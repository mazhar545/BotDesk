[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "body {\r\n    transform: scale(1.0);\r\n}\r\n\r\n\r\ntable { overflow: visible !important; }\r\nthead { display: table-header-group; }\r\ntr { page-break-inside: avoid; }\r\n\r\n.underline {\r\n    text-decoration: underline;\r\n}\r\n\r\n.color_black {\r\n    color: black !important;\r\n}\r\n\r\n\r\n.seller_table {\r\n    width: 100%;\r\n    table-layout: auto;\r\n    word-break: break-word;\r\n    page-break-inside: auto;\r\n}\r\n\r\n.seller_table,\r\n.seller_table th,\r\n.seller_table td {\r\n    border: 1.8px solid black;\r\n    border-collapse: collapse;\r\n    font-size: 10px;\r\n    line-height: 1.0;\r\n    color: black !important;\r\n}\r\n\r\n\r\n.bold {\r\n    font-weight: bold;\r\n}\r\n\r\n.inc_size {\r\n    font-weight: 550;\r\n}\r\n\r\n.seller_table thead {\r\n    background-color: #cccccc;\r\n}\r\n\r\n.color_bg_gray {\r\n    background-color: #cccccc;\r\n}\r\n\r\n\r\n.print-format td,\r\n.print-format th {\r\n    padding: 5px 3px !important;\r\n    font-family: time;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set company = frappe.get_doc(\"Company\", doc.company)%}\r\n{% if (doc.company_address) %}\r\n    {% set supplier_address_doc = frappe.get_doc('Address', doc.company_address) %}\r\n{% endif %}\r\n\r\n\r\n{% if(doc.customer) %}\r\n    {% set customer = frappe.get_doc('Customer', doc.customer ) %}\r\n{% endif %}\r\n\r\n{% if(doc.customer_address) %}\r\n    {% set customer_address = frappe.get_doc('Address', doc.customer_address ) %}\r\n{% endif %}\r\n\r\n{% if letter_head and not no_letterhead -%}\r\n    {% if print_settings.repeat_header_footer %}\r\n        <div id=\"header-html\" class=\"hidden-pdf\">\r\n            <div class=\"letter-head\">\r\n                {{ letter_head }}\r\n            </div>\r\n        </div>\r\n    {%- endif %}\r\n{%- endif %}\r\n\r\n<div>\r\n    <p class=\"bold text-center\" style=\"font-size: 22px;margin-top:15px;\">\r\n        <span>Tax Invoice</span> <br>\r\n        <span>فاتورة ضریبیة</span>\r\n    </p>\r\n        \r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 col-sm-12\">\r\n            <table class=\"seller_table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"color_black text-center\" colspan=\"3\"><span class=\"bold\" style=\"font-size: 14px;\">Buyer: بيانات العميل</span></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\" colspan=\"3\">{{customer.customer_name or\"\"}} <br><br>{{customer.custom_customer_name_in_arabic or\"\"}}</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Customer Address</td>\r\n                        <td style=\"font-size:12px;\">\r\n                            {% if(customer_address) %} \r\n                                <span>{{ customer_address.address_line1 or\"\"}} </span> <br>\r\n                                {{ customer_address.address_in_arabic or\"\"}}\r\n                            {% endif %}\r\n                        </td>\r\n                        <td style=\"font-size:12px;\">عنوان العميل</td>\r\n                    </tr>\r\n                    {% if(customer.tax_id) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">VAT Number</td>\r\n                            <td style=\"font-size:13px;\">{{customer.tax_id or\"\"}}</td>\r\n                            <td style=\"font-size:12px;\">رقم ضريبة القيمة المضافة</td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.period_start or doc.period_end) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Period</td>\r\n                            <td style=\"font-size:13px;\">\r\n                                <span>From Date:</span> {{ doc.period_start }} <br>\r\n                                <span>To Date:</span> {{ doc.period_end }}\r\n                            </td>\r\n                            <td style=\"font-size:12px;\">فترة</td>\r\n                        </tr>\r\n                     {% endif %}\r\n                    {% if(doc.project) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Project Name</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.project or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">اسم المشروع</td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.contract) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Contract</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.contract or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">عقد</td>\r\n                        </tr>                    \r\n                    {% endif %}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n        \r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 col-sm-12\">\r\n            <table class=\"seller_table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"color_black text-center\" colspan=\"3\"><span class=\"bold\" style=\"font-size: 14px;\">Seller: اسم البائع</span></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\" colspan=\"3\">{{ company.name or\"\" }} <br><br>{{ company.company_arabic or\"\" }}</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Seller Address</td>\r\n                        <td style=\"font-size:12px;\">\r\n                            {% if(supplier_address_doc) %} \r\n                                <span>{{ supplier_address_doc.address_line1 }} </span> <br>\r\n                                {{ supplier_address_doc.address_in_arabic or \"\"}}\r\n                            {% endif %}\r\n                        </td>\r\n                        <td style=\"font-size:12px;\">عنوان البائع</td>\r\n                    </tr>\r\n                    {% if(company.tax_id) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">VAT Number</td>\r\n                            <td style=\"font-size:13px;\">{{company.tax_id or\"\"}}</td>\r\n                            <td style=\"font-size:12px;\">رقم ضريبة القيمة المضافة</td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.po_no) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Purchase Order No</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.po_no or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">رقم أمر الشراء  </td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.po_date) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Purchase Order Date</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.po_date or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">تاريخ أمر الشراء</td>\r\n                        </tr>\r\n                    {% endif %}          \r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Invoice No</td>\r\n                        <td style=\"font-size:13px;\">{{ doc.name or\"\" }}</td>\r\n                        <td style=\"font-size:12px;\">رقم الفاتورة</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Invoice Date</td>\r\n                        <td style=\"font-size:13px;\">{{ doc.posting_date or\"\" }}</td>\r\n                        <td style=\"font-size:12px;\">تاريخ الفاتورة</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Payment Due Date</td>\r\n                        <td style=\"font-size:13px;\">{{ doc.due_date }}</td>\r\n                        <td style=\"font-size:12px;\">التاريخ المحدد للدفع</td>\r\n                    </tr>                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n        \r\n    <div class=\"row table_div\">\r\n        <div class=\"col-md-12 col-sm-12\">\r\n            <table class=\"seller_table item_tables\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 35%;\"><b>Nature of Goods/ Services<br>تفاصيل السلع أو الخدمات</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>Qty<br>الكمية</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>Unit Price<br>سعر الوحده</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 15%;\"><b>Taxable Amount<br>المبلغ الخاضع للضريبة</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>VAT 15%<br>الضريبة</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>VAT Amount<br>قيمة الضريبة</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>Total<br>المجموع</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {% set total = namespace(amount = 0) %}\r\n                    {%- for row in doc.items -%}\r\n                        {% set total.amount = row.amount %}\r\n                        <tr class=\"text-center\">\r\n                            <td>\r\n                                <b>\r\n                                    {{row.idx}}. {{ row.item_name or '' }}\r\n                                    {% if(row.item_name_in_arabic) %}\r\n                                        <br>{{ row.item_name_in_arabic or\"\" }}\r\n                                    {% endif %}\r\n                                </b> <br>\r\n                                {% if(row.description) %}\r\n                                    {{ row.description or '' }}\r\n                                {% endif %}\r\n                            </td>\r\n                            <td>{{row.qty or \"\"}}<br>{{row.uom}}</td>\r\n                            <td>{{ \"{:,.2f}\".format(row.rate or \"\") }}</td>\r\n                            <td>{{ \"{:,.2f}\".format(row.amount)}}</td>\r\n                            <td>\r\n                                {% for tax in doc.taxes %}\r\n                                    {% set data_object = json.loads(tax.item_wise_tax_detail) %}\r\n                                    {% set key = row.item_code or row.item_name %}\r\n                                    {%- if(data_object[key][0])-%}\r\n                                        {{ frappe.format(data_object[key][0], {'fieldtype': 'Percent'}) }}\r\n                                    {%- endif -%}\r\n                                {% endfor %}\r\n                            </td>\r\n                            <td>\r\n                                {% for tax in doc.taxes %}\r\n                                    {% set data_object = json.loads(tax.item_wise_tax_detail) %}\r\n                                    {% set key = row.item_code or row.item_name %}\r\n                                    {% set tax_amount = (row.amount * tax.rate ) / 100 %}\r\n                                    {%- if(data_object[key][1])-%}\r\n                                        <span>{{ \"{:,.2f}\".format(tax_amount) }}</span>\r\n                                        {% set total.amount = total.amount + tax_amount %}\r\n                                    {%- endif -%}\r\n                                {% endfor %}\r\n                            </td>\r\n                            <td>{{  frappe.format_value(frappe.utils.flt(total.amount, doc.precision('total_taxes_and_charges')), currency=doc.currency) }}</td>\r\n                        </tr>\r\n                    {%- endfor -%}\r\n                    <tr style=\"height: 30px;\">\r\n                        <td colspan=\"7\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan=\"5\" class=\"text-right color_bg_gray bold\" style=\"font-size: 12px;\">Sub Total / المجموع الفرعي</td>\r\n                        <td colspan=\"2\" class=\"color_bg_gray bold\" style=\"font-size: 12px;\">{{ doc.get_formatted(\"total\") }}</td>\r\n                    </tr>\r\n                    {%- if(doc.discount_amount) -%}\r\n                    <tr>\r\n                        <td colspan=\"5\" class=\"text-right color_bg_gray bold\" style=\"font-size: 12px;\">Discount / تخفيض</td>\r\n                        <td colspan=\"2\" class=\"color_bg_gray bold\" style=\"font-size: 12px;\">{{ doc.get_formatted(\"discount_amount\") }}</td>\r\n                    </tr>\r\n                    {%- endif -%}\r\n                    <tr>\r\n                        <td colspan=\"5\" class=\"text-right color_bg_gray bold\" style=\"font-size: 12px;\">VAT@15% /  الضريبة المضافة %١٥</td>\r\n                        <td colspan=\"2\" class=\"color_bg_gray bold\" style=\"font-size: 12px;\">{{ doc.get_formatted(\"total_taxes_and_charges\") }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan=\"5\" class=\"text-right color_bg_gray bold\" style=\"font-size: 12px;\">Total / المجموع</td>\r\n                        <td colspan=\"2\" class=\"color_bg_gray bold\" style=\"font-size: 12px;\">{{ doc.get_formatted(\"grand_total\") }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan=\"7\" class=\"color_bg_gray text-center\" style=\"font-size: 12px;\"><b>Amount In Words:</b> {{ doc.in_words or\"\"}}</td>\r\n                    </tr>\r\n                   \r\n                        <tr>\r\n                            <td colspan=\"4\" style=\"font-size: 12px;\"> {{doc.terms or\"\"}}</td>\r\n                            <td colspan=\"3\" style=\"padding: 0px; text-align: right; vertical-align: middle; font-size: 15px;\"\r\n                           align=\"right\">\r\n                            \r\n                            {% set inv_additional_fields_name = frappe.db.get_value('Sales Invoice Additional Fields', {\"sales_invoice\": doc.name}, \"name\") %}\r\n\r\n                        {% if inv_additional_fields_name %}\r\n                            {% set inv_additional_fields = frappe.get_doc(\"Sales Invoice Additional Fields\", inv_additional_fields_name) %}\r\n                        {% endif %}\r\n                        \r\n                        {% set ur = frappe.get_list('File', filters={ 'Attached_to_name': doc.name}, fields=['file_url']) %}\r\n                        \r\n                        <div class=\"qr-code-container\">\r\n                            {% if (inv_additional_fields and inv_additional_fields.qr_image_src) %}\r\n                                <img class=\"qr-code\" src=\"{{ inv_additional_fields.qr_image_src }}\">\r\n                            {% elif ur %}\r\n                                {% for u in ur%}\r\n                                    {% if u.file_url.endswith('.png') %}\r\n                                        <img class=\"qr-code\" src={{u.file_url}} style=\"padding-top: 10px;\" />\r\n                                    {% endif %}\r\n                                    \r\n                                {% endfor %}\r\n                            {% else %}\r\n                                <div class=\"qr-code\" style=\"width:100px; height:100px;\"></div>\r\n                            {% endif %}\r\n\r\n                        </div>\r\n\r\n                           <!--<img class=\"qr-code\" src={{doc.ksa_einv_qr}}>-->\r\n\r\n\r\n                        </td>\r\n                        </tr>\r\n                   \r\n                    \r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n{% if print_settings.repeat_header_footer %}\r\n    <div id=\"footer-html\">\r\n        {% if not no_letterhead and footer %}\r\n            <div class=\"letter-head-footer\">\r\n                {{ footer }}\r\n            </div>\r\n        {% endif %}\r\n    </div>\r\n{% endif %}\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-06-27 12:15:12.908997",
  "module": "Accounts",
  "name": "Sale Invoice(AQT)",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "body {\r\n    transform: scale(1.0);\r\n}\r\n\r\n\r\ntable { overflow: visible !important; }\r\nthead { display: table-header-group; }\r\ntr { page-break-inside: avoid; }\r\n\r\n.underline {\r\n    text-decoration: underline;\r\n}\r\n\r\n.color_black {\r\n    color: black !important;\r\n}\r\n\r\n\r\n.seller_table {\r\n    width: 100%;\r\n    table-layout: auto;\r\n    word-break: break-word;\r\n    page-break-inside: auto;\r\n}\r\n\r\n.seller_table,\r\n.seller_table th,\r\n.seller_table td {\r\n    border: 1.8px solid black;\r\n    border-collapse: collapse;\r\n    font-size: 10px;\r\n    line-height: 1.0;\r\n    color: black !important;\r\n}\r\n\r\n\r\n.bold {\r\n    font-weight: bold;\r\n}\r\n\r\n.inc_size {\r\n    font-weight: 550;\r\n}\r\n\r\n.seller_table thead {\r\n    background-color: #cccccc;\r\n}\r\n\r\n.color_bg_gray {\r\n    background-color: #cccccc;\r\n}\r\n\r\n\r\n.print-format td,\r\n.print-format th {\r\n    padding: 5px 3px !important;\r\n    font-family: time;\r\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set company = frappe.get_doc(\"Company\", doc.company)%}\r\n{% if (doc.company_address) %}\r\n    {% set supplier_address_doc = frappe.get_doc('Address', doc.company_address) %}\r\n{% endif %}\r\n\r\n\r\n{% if(doc.customer) %}\r\n    {% set customer = frappe.get_doc('Customer', doc.customer ) %}\r\n{% endif %}\r\n\r\n{% if(doc.customer_address) %}\r\n    {% set customer_address = frappe.get_doc('Address', doc.customer_address ) %}\r\n{% endif %}\r\n\r\n{% if letter_head and not no_letterhead -%}\r\n    {% if print_settings.repeat_header_footer %}\r\n        <div id=\"header-html\" class=\"hidden-pdf\">\r\n            <div class=\"letter-head\">\r\n                {{ letter_head }}\r\n            </div>\r\n        </div>\r\n    {%- endif %}\r\n{%- endif %}\r\n\r\n<div>\r\n    <p class=\"bold text-center\" style=\"font-size: 22px;margin-top:15px;\">\r\n        <span>Tax Invoice</span> <br>\r\n        <span>فاتورة ضریبیة</span>\r\n    </p>\r\n        \r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 col-sm-12\">\r\n            <table class=\"seller_table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"color_black text-center\" colspan=\"3\"><span class=\"bold\" style=\"font-size: 14px;\">Buyer: بيانات العميل</span></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\" colspan=\"3\">{{customer.customer_name or\"\"}} <br><br>{{customer.custom_customer_name_in_arabic or\"\"}}</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Customer Address</td>\r\n                        <td style=\"font-size:12px;\">\r\n                            {% if(customer_address) %} \r\n                                <span>{{ customer_address.address_line1 or\"\"}} </span> <br>\r\n                                {{ customer_address.address_in_arabic or\"\"}}\r\n                            {% endif %}\r\n                        </td>\r\n                        <td style=\"font-size:12px;\">عنوان العميل</td>\r\n                    </tr>\r\n                    {% if(customer.tax_id) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">VAT Number</td>\r\n                            <td style=\"font-size:13px;\">{{customer.tax_id or\"\"}}</td>\r\n                            <td style=\"font-size:12px;\">رقم ضريبة القيمة المضافة</td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.period_start or doc.period_end) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Period</td>\r\n                            <td style=\"font-size:13px;\">\r\n                                <span>From Date:</span> {{ doc.period_start }} <br>\r\n                                <span>To Date:</span> {{ doc.period_end }}\r\n                            </td>\r\n                            <td style=\"font-size:12px;\">فترة</td>\r\n                        </tr>\r\n                     {% endif %}\r\n                    {% if(doc.project) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Project Name</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.project or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">اسم المشروع</td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.contract) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Contract</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.contract or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">عقد</td>\r\n                        </tr>                    \r\n                    {% endif %}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n        \r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 col-sm-12\">\r\n            <table class=\"seller_table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"color_black text-center\" colspan=\"3\"><span class=\"bold\" style=\"font-size: 14px;\">Seller: اسم البائع</span></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\" colspan=\"3\">{{ company.name or\"\" }} <br><br>{{ company.company_arabic or\"\" }}</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Seller Address</td>\r\n                        <td style=\"font-size:12px;\">\r\n                            {% if(supplier_address_doc) %} \r\n                                <span>{{ supplier_address_doc.address_line1 }} </span> <br>\r\n                                {{ supplier_address_doc.address_in_arabic or \"\"}}\r\n                            {% endif %}\r\n                        </td>\r\n                        <td style=\"font-size:12px;\">عنوان البائع</td>\r\n                    </tr>\r\n                    {% if(company.tax_id) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">VAT Number</td>\r\n                            <td style=\"font-size:13px;\">{{company.tax_id or\"\"}}</td>\r\n                            <td style=\"font-size:12px;\">رقم ضريبة القيمة المضافة</td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.po_no) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Purchase Order No</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.po_no or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">رقم أمر الشراء  </td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.po_date) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Purchase Order Date</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.po_date or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">تاريخ أمر الشراء</td>\r\n                        </tr>\r\n                    {% endif %}          \r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Invoice No</td>\r\n                        <td style=\"font-size:13px;\">{{ doc.name or\"\" }}</td>\r\n                        <td style=\"font-size:12px;\">رقم الفاتورة</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Invoice Date</td>\r\n                        <td style=\"font-size:13px;\">{{ doc.posting_date or\"\" }}</td>\r\n                        <td style=\"font-size:12px;\">تاريخ الفاتورة</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Payment Due Date</td>\r\n                        <td style=\"font-size:13px;\">{{ doc.due_date }}</td>\r\n                        <td style=\"font-size:12px;\">التاريخ المحدد للدفع</td>\r\n                    </tr>                    \r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n  \r\n        \r\n    <div class=\"row table_div\">\r\n        <div class=\"col-md-12 col-sm-12\">\r\n            <table class=\"seller_table item_tables\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 35%;\"><b>Nature of Goods/ Services<br>تفاصيل السلع أو الخدمات</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>Qty<br>الكمية</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>Unit Price<br>سعر الوحده</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 15%;\"><b>Taxable Amount<br>المبلغ الخاضع للضريبة</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>VAT 15%<br>الضريبة</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>VAT Amount<br>قيمة الضريبة</b></th>\r\n                        <th class=\"text-center color_black\" style=\"font-size: 12px;width: 10%;\"><b>Total<br>المجموع</b></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {% set total = namespace(amount = 0) %}\r\n                    {%- for row in doc.items -%}\r\n                        {% set total.amount = row.amount %}\r\n                        <tr class=\"text-center\">\r\n                            <td>\r\n                                <b>\r\n                                    {{row.idx}}. {{ row.item_name or '' }}\r\n                                    {% if(row.item_name_in_arabic) %}\r\n                                        <br>{{ row.item_name_in_arabic or\"\" }}\r\n                                    {% endif %}\r\n                                </b> <br>\r\n                                {% if(row.description) %}\r\n                                    {{ row.description or '' }}\r\n                                {% endif %}\r\n                            </td>\r\n                            <td>{{row.qty or \"\"}}<br>{{row.uom}}</td>\r\n                            <td>{{ \"{:,.2f}\".format(row.rate or \"\") }}</td>\r\n                            <td>{{ \"{:,.2f}\".format(row.amount)}}</td>\r\n                            <td>\r\n                                {% for tax in doc.taxes %}\r\n                                    {% set data_object = json.loads(tax.item_wise_tax_detail) %}\r\n                                    {% set key = row.item_code or row.item_name %}\r\n                                    {%- if(data_object[key][0])-%}\r\n                                        {{ frappe.format(data_object[key][0], {'fieldtype': 'Percent'}) }}\r\n                                    {%- endif -%}\r\n                                {% endfor %}\r\n                            </td>\r\n                            <td>\r\n                                {% for tax in doc.taxes %}\r\n                                    {% set data_object = json.loads(tax.item_wise_tax_detail) %}\r\n                                    {% set key = row.item_code or row.item_name %}\r\n                                    {% set tax_amount = (row.amount * tax.rate ) / 100 %}\r\n                                    {%- if(data_object[key][1])-%}\r\n                                        <span>{{ \"{:,.2f}\".format(tax_amount) }}</span>\r\n                                        {% set total.amount = total.amount + tax_amount %}\r\n                                    {%- endif -%}\r\n                                {% endfor %}\r\n                            </td>\r\n                            <td>{{  frappe.format_value(frappe.utils.flt(total.amount, doc.precision('total_taxes_and_charges')), currency=doc.currency) }}</td>\r\n                        </tr>\r\n                    {%- endfor -%}\r\n                    <tr style=\"height: 30px;\">\r\n                        <td colspan=\"7\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan=\"5\" class=\"text-right color_bg_gray bold\" style=\"font-size: 12px;\">Sub Total / المجموع الفرعي</td>\r\n                        <td colspan=\"2\" class=\"color_bg_gray bold\" style=\"font-size: 12px;\">{{ doc.get_formatted(\"total\") }}</td>\r\n                    </tr>\r\n                    {%- if(doc.discount_amount) -%}\r\n                    <tr>\r\n                        <td colspan=\"5\" class=\"text-right color_bg_gray bold\" style=\"font-size: 12px;\">Discount / تخفيض</td>\r\n                        <td colspan=\"2\" class=\"color_bg_gray bold\" style=\"font-size: 12px;\">{{ doc.get_formatted(\"discount_amount\") }}</td>\r\n                    </tr>\r\n                    {%- endif -%}\r\n                    <tr>\r\n                        <td colspan=\"5\" class=\"text-right color_bg_gray bold\" style=\"font-size: 12px;\">VAT@15% /  الضريبة المضافة %١٥</td>\r\n                        <td colspan=\"2\" class=\"color_bg_gray bold\" style=\"font-size: 12px;\">{{ doc.get_formatted(\"total_taxes_and_charges\") }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan=\"5\" class=\"text-right color_bg_gray bold\" style=\"font-size: 12px;\">Total / المجموع</td>\r\n                        <td colspan=\"2\" class=\"color_bg_gray bold\" style=\"font-size: 12px;\">{{ doc.get_formatted(\"grand_total\") }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan=\"7\" class=\"color_bg_gray text-center\" style=\"font-size: 12px;\"><b>Amount In Words:</b> {{ doc.in_words or\"\"}}</td>\r\n                    </tr>\r\n                   \r\n                        <tr>\r\n                            <td colspan=\"4\" style=\"font-size: 12px;\"> {{doc.terms or\"\"}}</td>\r\n                            <td colspan=\"3\" style=\"padding: 0px; text-align: right; vertical-align: middle; font-size: 15px;\"\r\n                           align=\"right\">\r\n                            \r\n                            {% set inv_additional_fields_name = frappe.db.get_value('Sales Invoice Additional Fields', {\"sales_invoice\": doc.name}, \"name\") %}\r\n\r\n                        {% if inv_additional_fields_name %}\r\n                            {% set inv_additional_fields = frappe.get_doc(\"Sales Invoice Additional Fields\", inv_additional_fields_name) %}\r\n                        {% endif %}\r\n                        \r\n                        {% set ur = frappe.get_list('File', filters={ 'Attached_to_name': doc.name}, fields=['file_url']) %}\r\n                        \r\n                        <div class=\"qr-code-container\">\r\n                            {% if (inv_additional_fields and inv_additional_fields.qr_image_src) %}\r\n                                <img class=\"qr-code\" src=\"{{ inv_additional_fields.qr_image_src }}\">\r\n                            {% elif ur %}\r\n                                {% for u in ur%}\r\n                                    {% if u.file_url.endswith('.png') %}\r\n                                        <img class=\"qr-code\" src={{u.file_url}} style=\"padding-top: 10px;\" />\r\n                                    {% endif %}\r\n                                    \r\n                                {% endfor %}\r\n                            {% else %}\r\n                                <div class=\"qr-code\" style=\"width:100px; height:100px;\"></div>\r\n                            {% endif %}\r\n\r\n                        </div>\r\n\r\n                           <!--<img class=\"qr-code\" src={{doc.ksa_einv_qr}}>-->\r\n\r\n\r\n                        </td>\r\n                        </tr>\r\n                   \r\n                    \r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n  {# ---------- MEASUREMENTS (from child table) ---------- #}\r\n{% set meas_rows = doc.items | selectattr(\"measurement\") | list %}\r\n{% if meas_rows %}\r\n  <div class=\"row table_div\">\r\n    <div class=\"col-md-12 col-sm-12\">\r\n      {% for it in meas_rows %}\r\n        {% set ms = frappe.get_doc(\"Measurement\", it.measurement) %}\r\n        <table class=\"seller_table\" style=\"width:100%; font-size:10pt; margin-top:10px;\">\r\n          <thead>\r\n            <tr>\r\n              <th colspan=\"4\" class=\"color_black\" style=\"font-size:12px; text-align:center; vertical-align:middle;\">\r\n                <b>Measurements — {{ it.measurement }}</b>\r\n                {% if it.item %}<br><span style=\"font-weight:normal;\">Item: {{ it.item }}</span>{% endif %}\r\n                {% if it.qty %}<br><span style=\"font-weight:normal;\">Qty: {{ it.qty }}</span>{% endif %}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <th style=\"width:30%\">Front Length</th>\r\n              <td>{{ ms.height or \"-\" }}</td>\r\n              <th style=\"width:30%\">Back Length</th>\r\n              <td>{{ ms.the_shoulder or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Shoulder Width </th>\r\n              <td>{{ ms.plain_sleeve_length or \"-\" }}</td>\r\n              <th>Sleeve Length (Plain Cuff) </th>\r\n              <td>{{ ms.cuff_sleeve_length_4 or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Sleeve Length (French Cuff) </th>\r\n              <td>{{ ms.quantum_expansion_5 or \"-\" }}</td>\r\n              <th>Upper Arm Width </th>\r\n              <td>{{ ms.middle_6 or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Mid Arm Width</th>\r\n              <td>{{ ms.neck_7 or \"-\" }}</td>\r\n              <th>Wrist Width </th>\r\n              <td>{{ ms.step_8 or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Cuff Opening Width </th>\r\n              <td>{{ ms.collar_type_10 or \"-\" }}</td>\r\n              <th>Cuff Depth   </th>\r\n              <td>{{ ms.item_9 or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Chest Panel Width </th>\r\n              <td>{{ ms.plain_sleeve_length_3 or \"-\" }}</td>\r\n              <th>Chest Circumference </th>\r\n              <td>{{ ms.embroidery or \"-\" }}</td>\r\n            </tr>\r\n              <tr>\r\n              <th>Waist Circumference </th>\r\n              <td>{{ ms.cbc or \"-\" }}</td>\r\n              <th>Hip Circumference </th>\r\n              <td >{{ ms.chest_pocket_type_11 or \"-\" }}</td>\r\n            </tr>\r\n                 <tr>\r\n              <th>Hem Width </th>\r\n              <td>{{ ms.hem_width or \"-\" }}</td>\r\n              <th>Collar Size </th>\r\n              <td>{{ ms.collar_size or \"-\" }}</td>\r\n            </tr>\r\n                <tr>\r\n              <th>Sleeve Hem Width </th>\r\n              <td>{{ ms.sleeve_hem_width or \"-\" }}</td>\r\n               <th>Bottom Hem Width </th>\r\n              <td>{{ ms.bottom_hem_width or \"-\" }}</td>\r\n            </tr>\r\n             \r\n          </tbody>\r\n        </table>\r\n      {% endfor %}\r\n    </div>\r\n  </div>\r\n{% endif %}\r\n\r\n\r\n    \r\n</div>\r\n\r\n\r\n\r\n{# ===== ORDER FORM ITEMS + SPECIFICATION ===== #}\r\n<style>\r\n  table.of-items, table.of-nested, table.of-icons {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    font-size: 10pt;\r\n  }\r\n  table.of-items th, table.of-items td,\r\n  table.of-nested th, table.of-nested td,\r\n  table.of-icons th, table.of-icons td {\r\n    border: 1px solid #000;\r\n    padding: 4px 6px;\r\n    vertical-align: top;\r\n  }\r\n  thead.of-head th {\r\n    background: #d9d9d9;\r\n    text-align: left;\r\n  }\r\n  .spec-head {\r\n    background: #d9d9d9;\r\n    text-align: center;\r\n    font-weight: 700;\r\n    padding: 6px 4px;\r\n  }\r\n  .muted { color: #666; }\r\n\r\n  /* Icon cards (match your form look) */\r\n  .icon-cell { display:flex; flex-direction:column; align-items:center; gap:6px; }\r\n  .icon-thumb {\r\n    display:inline-flex; align-items:center; justify-content:center;\r\n    width:100px; height:100px;\r\n    border:1px solid #111; border-radius:10px;\r\n    background:#0b0b0c; padding:6px; box-sizing:border-box;\r\n  }\r\n  .icon-thumb img { max-width:100%; max-height:100%; display:block; object-fit:contain; }\r\n\r\n  /* spacing between spec and icons */\r\n  table.of-nested { margin-top: 6px; margin-bottom: 6px; }\r\n  table.of-icons  { margin-top: 10px; }\r\n</style>\r\n<div class=\"row table_div\" style=\"width:100%; margin-top:10px;>\r\n    <div class=\"col-md-12 col-sm-12\">\r\n{% if doc.items and doc.items|length %}\r\n  <table class=\"seller_table\">\r\n    <thead class=\"seller_table\">\r\n      <tr>\r\n        <th style=\"width:6%;\">No.</th>\r\n        <th style=\"width:24%;\">Item</th>\r\n        <th style=\"width:8%;\">Qty</th>\r\n        <th>Specification</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {% for row in doc.items %}\r\n        {% set sp = row.specification and frappe.get_doc(\"Specification\", row.specification) or None %}\r\n\r\n        {# --- Pocket (from Data field \"design\") --- #}\r\n        {% set pocket_label = sp and sp.design or '-' %}\r\n        {% set pocket_icons = {\r\n          'Hidden':           '/files/square%20pocket.png',\r\n          'Round':            '/files/rounded%20pocket.png',\r\n          'Beveled/Slanted':  '/files/angled%20pocket.png'\r\n        } %}\r\n        {% set pocket_icon = pocket_icons.get(pocket_label) %}\r\n        {% set pocket_icon_url = pocket_icon and frappe.utils.get_url(pocket_icon) or None %}\r\n\r\n        {# --- Cuff (from Data field \"btn\" per your cuff script) --- #}\r\n        {% set cuff_label = sp and sp.btn or '-' %}\r\n        {% set cuff_icons = {\r\n          'Plain Cuff':        '/files/culf_plan.png',\r\n          'Plain Open Cuff':   '/files/cuff_single_button.png',\r\n          'Formal Cufflinks':  '/files/cuff_double_button.png',\r\n          'French Cufflinks':  '/files/cuff_french.png'\r\n        } %}\r\n        {% set cuff_icon = cuff_icons.get(cuff_label) %}\r\n        {% set cuff_icon_url = cuff_icon and frappe.utils.get_url(cuff_icon) or None %}\r\n\r\n        {# --- Placket (from Data field \"colour\" per your placket script) --- #}\r\n        {% set placket_label = sp and sp.colour or '-' %}\r\n        {% set placket_icons = {\r\n          'Visible Square Tab':         '/files/placket_button_straight.png',\r\n          'Visible Triangle Tab':       '/files/placket_button_pointed.png',\r\n          'Hidden Square Tab':          '/files/placket_plain_straight.png',\r\n          'Hidden Triangle Tab':        '/files/placket_plain_pointed.png',\r\n          'Zipper with Square Tab':     '/files/placket_zip_straight.png',\r\n          'Zipper with Triangular Tab': '/files/placket_zip_pointed.png'\r\n        } %}\r\n        {% set placket_icon = placket_icons.get(placket_label) %}\r\n        {% set placket_icon_url = placket_icon and frappe.utils.get_url(placket_icon) or None %}\r\n\r\n        {# --- Collar (from Data field \"collar_design\" per your collar script) --- #}\r\n        {% set collar_label = sp and (sp.collar_design or sp.collar_deign) or '-' %}\r\n        {% set collar_icons = {\r\n          'Regular Collar':     '/files/chinese.png',\r\n          'Mandarin Collar':    '/files/nehro.png',\r\n          'Classic Collar 2':   '/files/tab%20clolor.png',\r\n          'French Collar':      '/files/btn%20down.png',\r\n          'Classic Collar':     '/files/Wing%20Collar.png'\r\n        } %}\r\n        {% set collar_icon = collar_icons.get(collar_label) %}\r\n        {% set collar_icon_url = collar_icon and frappe.utils.get_url(collar_icon) or None %}\r\n\r\n        <tr>\r\n          <td>{{ loop.index }}</td>\r\n          <td>\r\n            {{ row.item or row.item_code }}\r\n            {% if row.description %}<div class=\"muted\">{{ row.description }}</div>{% endif %}\r\n          </td>\r\n          <td>{{ row.qty or 0 }}</td>\r\n\r\n          <td>\r\n            {% if sp %}\r\n              {# ===== Textual spec ===== #}\r\n              <table class=\"of-nested\">\r\n                <thead>\r\n                  <tr>\r\n                    <th colspan=\"4\" class=\"spec-head\">\r\n                      Specification — {{ sp.name }}\r\n                      {% if sp.measurement_name %}\r\n                        <br><span class=\"muted\" style=\"font-weight:400;\">Measurement: {{ sp.measurement_name }}</span>\r\n                      {% endif %}\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width:25%;\">Placket</th>\r\n                    <td style=\"width:25%;\">{{ placket_label or \"-\" }}</td>\r\n                    <th style=\"width:25%;\">Cuff Design</th>\r\n                    <td style=\"width:25%;\">{{ cuff_label or \"-\" }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th style=\"width:25%;\">Collar Design</th>\r\n                    <td style=\"width:25%\">{{ collar_label or \"-\" }}</td>\r\n                     <th style=\"width:25%;\">Pocket Design</th>\r\n                    <td style=\"width:25%\">{{ pocket_label  or \"-\" }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n              {# ===== Icons table: Pocket | Cuff | Placket | Collar (one row) ===== #}\r\n              <table class=\"of-icons\">\r\n                <thead>\r\n                  <tr>\r\n                    <th class=\"spec-head\" style=\"width:25%;\">Pocket Design</th>\r\n                    <th class=\"spec-head\" style=\"width:25%;\">Cuff Design</th>\r\n                    <th class=\"spec-head\" style=\"width:25%;\">Placket Design</th>\r\n                    <th class=\"spec-head\" style=\"width:25%;\">Collar Design</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td style=\"text-align:center;\">\r\n                      {% if pocket_icon_url %}\r\n                        <div class=\"icon-cell\">\r\n                          <span class=\"icon-thumb\"><img src=\"{{ pocket_icon_url }}\" alt=\"{{ pocket_label }}\"></span>\r\n                          <span style=\"margin-top:4px; font-weight:600;\">{{ pocket_label }}</span>\r\n                        </div>\r\n                      {% else %} {{ pocket_label }} {% endif %}\r\n                    </td>\r\n\r\n                    <td style=\"text-align:center;\">\r\n                      {% if cuff_icon_url %}\r\n                        <div class=\"icon-cell\">\r\n                          <span class=\"icon-thumb\"><img src=\"{{ cuff_icon_url }}\" alt=\"{{ cuff_label }}\"></span>\r\n                          <span style=\"margin-top:4px; font-weight:600;\">{{ cuff_label }}</span>\r\n                        </div>\r\n                      {% else %} {{ cuff_label }} {% endif %}\r\n                    </td>\r\n\r\n                    <td style=\"text-align:center;\">\r\n                      {% if placket_icon_url %}\r\n                        <div class=\"icon-cell\">\r\n                          <span class=\"icon-thumb\"><img src=\"{{ placket_icon_url }}\" alt=\"{{ placket_label }}\"></span>\r\n                          <span style=\"margin-top:4px; font-weight:600;\">{{ placket_label }}</span>\r\n                        </div>\r\n                      {% else %} {{ placket_label }} {% endif %}\r\n                    </td>\r\n\r\n                    <td style=\"text-align:center;\">\r\n                      {% if collar_icon_url %}\r\n                        <div class=\"icon-cell\">\r\n                          <span class=\"icon-thumb\"><img src=\"{{ collar_icon_url }}\" alt=\"{{ collar_label }}\"></span>\r\n                          <span style=\"margin-top:4px; font-weight:600;\">{{ collar_label }}</span>\r\n                        </div>\r\n                      {% else %} {{ collar_label }} {% endif %}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n            {% else %}\r\n              <i class=\"muted\">No Specification linked for this item.</i>\r\n            {% endif %}\r\n          </td>\r\n        </tr>\r\n      {% endfor %}\r\n    </tbody>\r\n  </table>\r\n{% else %}\r\n  <i class=\"muted\">No items.</i>\r\n{% endif %}\r\n\r\n\r\n\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n{% if print_settings.repeat_header_footer %}\r\n    <div id=\"footer-html\">\r\n        {% if not no_letterhead and footer %}\r\n            <div class=\"letter-head-footer\">\r\n                {{ footer }}\r\n            </div>\r\n        {% endif %}\r\n    </div>\r\n{% endif %}\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-09-16 13:37:39.173059",
  "module": "Accounts",
  "name": "Sale Invoice Measurement",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "body { transform: scale(1.0); }\r\n\r\ntable { overflow: visible !important; }\r\nthead { display: table-header-group; }\r\ntr { page-break-inside: avoid; }\r\n\r\n.bold { font-weight: bold; }\r\n.color_black { color: black !important; }\r\n\r\n.seller_table { width: 100%; table-layout: auto; word-break: break-word; page-break-inside: auto; }\r\n.seller_table, .seller_table th, .seller_table td {\r\n  border: 1.8px solid black; border-collapse: collapse; font-size: 10px; line-height: 1.0; color: black !important;\r\n}\r\n.seller_table thead { background-color: #cccccc; }\r\n\r\n.print-format td, .print-format th { padding: 5px 3px !important; }\r\n.row.table_div {\r\n  margin-left: 0 !important;\r\n  margin-right: 0 !important;\r\n}\r\n\r\n.row.table_div .col-md-12 {\r\n  padding-left: 0 !important;\r\n  padding-right: 0 !important;\r\n}\r\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Order Form",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set company = frappe.get_doc(\"Company\", doc.company)%}\r\n{% if (doc.company_address) %}\r\n    {% set supplier_address_doc = frappe.get_doc('Address', doc.company_address) %}\r\n{% endif %}\r\n\r\n\r\n{% if(doc.customer) %}\r\n    {% set customer = frappe.get_doc('Customer', doc.customer ) %}\r\n{% endif %}\r\n\r\n{% if(doc.customer_address) %}\r\n    {% set customer_address = frappe.get_doc('Address', doc.customer_address ) %}\r\n{% endif %}\r\n\r\n{% if letter_head and not no_letterhead -%}\r\n    {% if print_settings.repeat_header_footer %}\r\n        <div id=\"header-html\" class=\"hidden-pdf\">\r\n            <div class=\"letter-head\">\r\n                {{ letter_head }}\r\n            </div>\r\n        </div>\r\n    {%- endif %}\r\n{%- endif %}\r\n\r\n<div>\r\n    <p class=\"bold text-center\" style=\"font-size: 22px;margin-top:15px;\">\r\n        <span>Order Form</span> <br>\r\n        <span>نموذج الطلب </span>\r\n    </p>\r\n        \r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 col-sm-12\">\r\n            <table class=\"seller_table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th class=\"color_black text-center\" colspan=\"3\"><span class=\"bold\" style=\"font-size: 14px;\">Buyer: بيانات العميل</span></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\" colspan=\"3\">{{customer.customer_name or\"\"}} <br><br>{{customer.custom_customer_name_in_arabic or\"\"}}</td>\r\n                    </tr>\r\n                    <tr class=\"text-center\">\r\n                        <td style=\"font-size:13px;\">Customer Address</td>\r\n                        <td style=\"font-size:12px;\">\r\n                            {% if(customer_address) %} \r\n                                <span>{{ customer_address.address_line1 or\"\"}} </span> <br>\r\n                                {{ customer_address.address_in_arabic or\"\"}}\r\n                            {% endif %}\r\n                        </td>\r\n                        <td style=\"font-size:12px;\">عنوان العميل</td>\r\n                    </tr>\r\n                    {% if(customer.tax_id) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">VAT Number</td>\r\n                            <td style=\"font-size:13px;\">{{customer.tax_id or\"\"}}</td>\r\n                            <td style=\"font-size:12px;\">رقم ضريبة القيمة المضافة</td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.period_start or doc.period_end) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Period</td>\r\n                            <td style=\"font-size:13px;\">\r\n                                <span>From Date:</span> {{ doc.period_start }} <br>\r\n                                <span>To Date:</span> {{ doc.period_end }}\r\n                            </td>\r\n                            <td style=\"font-size:12px;\">فترة</td>\r\n                        </tr>\r\n                     {% endif %}\r\n                    {% if(doc.project) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Project Name</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.project or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">اسم المشروع</td>\r\n                        </tr>\r\n                    {% endif %}\r\n                    {% if(doc.contract) %}\r\n                        <tr class=\"text-center\">\r\n                            <td style=\"font-size:13px;\">Contract</td>\r\n                            <td style=\"font-size:13px;\">{{ doc.contract or\"\" }}</td>\r\n                            <td style=\"font-size:12px;\">عقد</td>\r\n                        </tr>                    \r\n                    {% endif %}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n        \r\n  {# ---------- MEASUREMENTS (from child table) ---------- #}\r\n{% set meas_rows = doc.items | selectattr(\"measurement\") | list %}\r\n{% if meas_rows %}\r\n  <div class=\"row table_div\">\r\n    <div class=\"col-md-12 col-sm-12\">\r\n      {% for it in meas_rows %}\r\n        {% set ms = frappe.get_doc(\"Measurement\", it.measurement) %}\r\n        <table class=\"seller_table\" style=\"width:100%; font-size:10pt; margin-top:10px;\">\r\n          <thead>\r\n            <tr>\r\n              <th colspan=\"4\" class=\"color_black\" style=\"font-size:12px; text-align:center; vertical-align:middle;\">\r\n                <b>Measurements — {{ it.measurement }}</b>\r\n                {% if it.item %}<br><span style=\"font-weight:normal;\">Item: {{ it.item }}</span>{% endif %}\r\n                {% if it.qty %}<br><span style=\"font-weight:normal;\">Qty: {{ it.qty }}</span>{% endif %}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <th style=\"width:30%\">Front Length</th>\r\n              <td>{{ ms.height or \"-\" }}</td>\r\n              <th style=\"width:30%\">Back Length</th>\r\n              <td>{{ ms.the_shoulder or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Shoulder Width </th>\r\n              <td>{{ ms.plain_sleeve_length or \"-\" }}</td>\r\n              <th>Sleeve Length (Plain Cuff) </th>\r\n              <td>{{ ms.cuff_sleeve_length_4 or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Sleeve Length (French Cuff) </th>\r\n              <td>{{ ms.quantum_expansion_5 or \"-\" }}</td>\r\n              <th>Upper Arm Width </th>\r\n              <td>{{ ms.middle_6 or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Mid Arm Width</th>\r\n              <td>{{ ms.neck_7 or \"-\" }}</td>\r\n              <th>Wrist Width </th>\r\n              <td>{{ ms.step_8 or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Cuff Opening Width </th>\r\n              <td>{{ ms.collar_type_10 or \"-\" }}</td>\r\n              <th>Cuff Depth   </th>\r\n              <td>{{ ms.item_9 or \"-\" }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Chest Panel Width </th>\r\n              <td>{{ ms.plain_sleeve_length_3 or \"-\" }}</td>\r\n              <th>Chest Circumference </th>\r\n              <td>{{ ms.embroidery or \"-\" }}</td>\r\n            </tr>\r\n              <tr>\r\n              <th>Waist Circumference </th>\r\n              <td>{{ ms.cbc or \"-\" }}</td>\r\n              <th>Hip Circumference </th>\r\n              <td >{{ ms.chest_pocket_type_11 or \"-\" }}</td>\r\n            </tr>\r\n                 <tr>\r\n              <th>Hem Width </th>\r\n              <td>{{ ms.hem_width or \"-\" }}</td>\r\n              <th>Collar Size </th>\r\n              <td>{{ ms.collar_size or \"-\" }}</td>\r\n            </tr>\r\n                <tr>\r\n              <th>Sleeve Hem Width </th>\r\n              <td>{{ ms.sleeve_hem_width or \"-\" }}</td>\r\n               <th>Bottom Hem Width </th>\r\n              <td>{{ ms.bottom_hem_width or \"-\" }}</td>\r\n            </tr>\r\n             \r\n          </tbody>\r\n        </table>\r\n      {% endfor %}\r\n    </div>\r\n  </div>\r\n{% endif %}\r\n\r\n\r\n    \r\n</div>\r\n\r\n\r\n\r\n\r\n{# ===== ORDER FORM ITEMS + SPECIFICATION ===== #}\r\n<style>\r\n  table.of-items, table.of-nested, table.of-icons {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    font-size: 10pt;\r\n  }\r\n  table.of-items th, table.of-items td,\r\n  table.of-nested th, table.of-nested td,\r\n  table.of-icons th, table.of-icons td {\r\n    border: 1px solid #000;\r\n    padding: 4px 6px;\r\n    vertical-align: top;\r\n  }\r\n  thead.of-head th {\r\n    background: #d9d9d9;\r\n    text-align: left;\r\n  }\r\n  .spec-head {\r\n    background: #d9d9d9;\r\n    text-align: center;\r\n    font-weight: 700;\r\n    padding: 6px 4px;\r\n  }\r\n  .muted { color: #666; }\r\n\r\n  /* Icon cards (match your form look) */\r\n  .icon-cell { display:flex; flex-direction:column; align-items:center; gap:6px; }\r\n  .icon-thumb {\r\n    display:inline-flex; align-items:center; justify-content:center;\r\n    width:100px; height:100px;\r\n    border:1px solid #111; border-radius:10px;\r\n    background:#0b0b0c; padding:6px; box-sizing:border-box;\r\n  }\r\n  .icon-thumb img { max-width:100%; max-height:100%; display:block; object-fit:contain; }\r\n\r\n  /* spacing between spec and icons */\r\n  table.of-nested { margin-top: 6px; margin-bottom: 6px; }\r\n  table.of-icons  { margin-top: 10px; }\r\n</style>\r\n<div class=\"row table_div\" style=\"width:100%; margin-top:10px;>\r\n    <div class=\"col-md-12 col-sm-12\">\r\n{% if doc.items and doc.items|length %}\r\n  <table class=\"seller_table\">\r\n    <thead class=\"seller_table\">\r\n      <tr>\r\n        <th style=\"width:6%;\">No.</th>\r\n        <th style=\"width:24%;\">Item</th>\r\n        <th style=\"width:8%;\">Qty</th>\r\n        <th>Specification</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {% for row in doc.items %}\r\n        {% set sp = row.specification and frappe.get_doc(\"Specification\", row.specification) or None %}\r\n\r\n        {# --- Pocket (from Data field \"design\") --- #}\r\n        {% set pocket_label = sp and sp.design or '-' %}\r\n        {% set pocket_icons = {\r\n          'Hidden':           '/files/square%20pocket.png',\r\n          'Round':            '/files/rounded%20pocket.png',\r\n          'Beveled/Slanted':  '/files/angled%20pocket.png'\r\n        } %}\r\n        {% set pocket_icon = pocket_icons.get(pocket_label) %}\r\n        {% set pocket_icon_url = pocket_icon and frappe.utils.get_url(pocket_icon) or None %}\r\n\r\n        {# --- Cuff (from Data field \"btn\" per your cuff script) --- #}\r\n        {% set cuff_label = sp and sp.btn or '-' %}\r\n        {% set cuff_icons = {\r\n          'Plain Cuff':        '/files/culf_plan.png',\r\n          'Plain Open Cuff':   '/files/cuff_single_button.png',\r\n          'Formal Cufflinks':  '/files/cuff_double_button.png',\r\n          'French Cufflinks':  '/files/cuff_french.png'\r\n        } %}\r\n        {% set cuff_icon = cuff_icons.get(cuff_label) %}\r\n        {% set cuff_icon_url = cuff_icon and frappe.utils.get_url(cuff_icon) or None %}\r\n\r\n        {# --- Placket (from Data field \"colour\" per your placket script) --- #}\r\n        {% set placket_label = sp and sp.colour or '-' %}\r\n        {% set placket_icons = {\r\n          'Visible Square Tab':         '/files/placket_button_straight.png',\r\n          'Visible Triangle Tab':       '/files/placket_button_pointed.png',\r\n          'Hidden Square Tab':          '/files/placket_plain_straight.png',\r\n          'Hidden Triangle Tab':        '/files/placket_plain_pointed.png',\r\n          'Zipper with Square Tab':     '/files/placket_zip_straight.png',\r\n          'Zipper with Triangular Tab': '/files/placket_zip_pointed.png'\r\n        } %}\r\n        {% set placket_icon = placket_icons.get(placket_label) %}\r\n        {% set placket_icon_url = placket_icon and frappe.utils.get_url(placket_icon) or None %}\r\n\r\n        {# --- Collar (from Data field \"collar_design\" per your collar script) --- #}\r\n        {% set collar_label = sp and (sp.collar_design or sp.collar_deign) or '-' %}\r\n        {% set collar_icons = {\r\n          'Regular Collar':     '/files/chinese.png',\r\n          'Mandarin Collar':    '/files/nehro.png',\r\n          'Classic Collar 2':   '/files/tab%20clolor.png',\r\n          'French Collar':      '/files/btn%20down.png',\r\n          'Classic Collar':     '/files/Wing%20Collar.png'\r\n        } %}\r\n        {% set collar_icon = collar_icons.get(collar_label) %}\r\n        {% set collar_icon_url = collar_icon and frappe.utils.get_url(collar_icon) or None %}\r\n\r\n        <tr>\r\n          <td>{{ loop.index }}</td>\r\n          <td>\r\n            {{ row.item or row.item_code }}\r\n            {% if row.description %}<div class=\"muted\">{{ row.description }}</div>{% endif %}\r\n          </td>\r\n          <td>{{ row.qty or 0 }}</td>\r\n\r\n          <td>\r\n            {% if sp %}\r\n              {# ===== Textual spec ===== #}\r\n              <table class=\"of-nested\">\r\n                <thead>\r\n                  <tr>\r\n                    <th colspan=\"4\" class=\"spec-head\">\r\n                      Specification — {{ sp.name }}\r\n                      {% if sp.measurement_name %}\r\n                        <br><span class=\"muted\" style=\"font-weight:400;\">Measurement: {{ sp.measurement_name }}</span>\r\n                      {% endif %}\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <th style=\"width:25%;\">Placket</th>\r\n                    <td style=\"width:25%;\">{{ placket_label or \"-\" }}</td>\r\n                    <th style=\"width:25%;\">Cuff Design</th>\r\n                    <td style=\"width:25%;\">{{ cuff_label or \"-\" }}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th style=\"width:25%;\">Collar Design</th>\r\n                    <td style=\"width:25%\">{{ collar_label or \"-\" }}</td>\r\n                     <th style=\"width:25%;\">Pocket Design</th>\r\n                    <td style=\"width:25%\">{{ pocket_label  or \"-\" }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n              {# ===== Icons table: Pocket | Cuff | Placket | Collar (one row) ===== #}\r\n              <table class=\"of-icons\">\r\n                <thead>\r\n                  <tr>\r\n                    <th class=\"spec-head\" style=\"width:25%;\">Pocket Design</th>\r\n                    <th class=\"spec-head\" style=\"width:25%;\">Cuff Design</th>\r\n                    <th class=\"spec-head\" style=\"width:25%;\">Placket Design</th>\r\n                    <th class=\"spec-head\" style=\"width:25%;\">Collar Design</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr>\r\n                    <td style=\"text-align:center;\">\r\n                      {% if pocket_icon_url %}\r\n                        <div class=\"icon-cell\">\r\n                          <span class=\"icon-thumb\"><img src=\"{{ pocket_icon_url }}\" alt=\"{{ pocket_label }}\"></span>\r\n                          <span style=\"margin-top:4px; font-weight:600;\">{{ pocket_label }}</span>\r\n                        </div>\r\n                      {% else %} {{ pocket_label }} {% endif %}\r\n                    </td>\r\n\r\n                    <td style=\"text-align:center;\">\r\n                      {% if cuff_icon_url %}\r\n                        <div class=\"icon-cell\">\r\n                          <span class=\"icon-thumb\"><img src=\"{{ cuff_icon_url }}\" alt=\"{{ cuff_label }}\"></span>\r\n                          <span style=\"margin-top:4px; font-weight:600;\">{{ cuff_label }}</span>\r\n                        </div>\r\n                      {% else %} {{ cuff_label }} {% endif %}\r\n                    </td>\r\n\r\n                    <td style=\"text-align:center;\">\r\n                      {% if placket_icon_url %}\r\n                        <div class=\"icon-cell\">\r\n                          <span class=\"icon-thumb\"><img src=\"{{ placket_icon_url }}\" alt=\"{{ placket_label }}\"></span>\r\n                          <span style=\"margin-top:4px; font-weight:600;\">{{ placket_label }}</span>\r\n                        </div>\r\n                      {% else %} {{ placket_label }} {% endif %}\r\n                    </td>\r\n\r\n                    <td style=\"text-align:center;\">\r\n                      {% if collar_icon_url %}\r\n                        <div class=\"icon-cell\">\r\n                          <span class=\"icon-thumb\"><img src=\"{{ collar_icon_url }}\" alt=\"{{ collar_label }}\"></span>\r\n                          <span style=\"margin-top:4px; font-weight:600;\">{{ collar_label }}</span>\r\n                        </div>\r\n                      {% else %} {{ collar_label }} {% endif %}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n            {% else %}\r\n              <i class=\"muted\">No Specification linked for this item.</i>\r\n            {% endif %}\r\n          </td>\r\n        </tr>\r\n      {% endfor %}\r\n    </tbody>\r\n  </table>\r\n{% else %}\r\n  <i class=\"muted\">No items.</i>\r\n{% endif %}\r\n\r\n\r\n\r\n\r\n</div>\r\n</div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n{% if print_settings.repeat_header_footer %}\r\n    <div id=\"footer-html\">\r\n        {% if not no_letterhead and footer %}\r\n            <div class=\"letter-head-footer\">\r\n                {{ footer }}\r\n            </div>\r\n        {% endif %}\r\n    </div>\r\n{% endif %}\r\n",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-09-16 09:18:24.591819",
  "module": "BotDesk",
  "name": "Order Form Format",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]